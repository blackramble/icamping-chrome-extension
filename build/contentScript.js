(()=>{"use strict";const e=document.head.getElementsByTagName("title")[0].innerHTML;console.log(`Page title is: '${e}' - evaluated by Chrome extension's 'contentScript.js' file`),chrome.runtime.onMessage.addListener(((e,t,n)=>{if("COUNT"===e.type&&console.log(`Current count is ${e.payload.count}`),"CHANGE"===e.type){if(console.log("Change Event On"),document.getElementsByClassName("dialog-extension")[0])return;const e=Array.from(document.getElementsByClassName("smallhero")).map((e=>{const t=e.querySelectorAll("img")[0],n=e.querySelectorAll(".dark-grey-text strong")[0],i=e.querySelectorAll(".f13 strong"),l=!!e.querySelectorAll(".danger-bg-text")[0],r=i[0].innerText.trim().split("・"),o=r[0],s=r[1],d=i[1].innerText.trim().match(/\d+/g)[0]??0,a=t.alt,c=t.src;return{id:a,name:n.innerText,imgUrl:c,state:o,town:s,height:d,isFull:l}}));if(0===e.length)return;const t=document.createElement("div");t.classList.add("dialog-extension");const n=document.createElement("button");n.innerHTML='<p style="margin:auto;">開關</p>',n.style.cssText="background-color: #134B43;color:white;position: fixed;bottom: 3rem;right: 3rem;border-radius: 50%;width: 100px;height: 100px;z-index: 99999999;",t.style.cssText="z-index:9999999; width: 100%; height:100%; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);display:flex; flex-direction: row; flex-wrap: wrap; overflow:scroll; gap:20px;",document.body.appendChild(t),document.body.appendChild(n),n.addEventListener("click",(()=>{"flex"===t.style.display?t.style.display="none":t.style.display="flex"})),e.forEach((e=>{if(!e.isFull){const n=document.createElement("a");n.href=`https://m.icamping.app/store/${e.id}`,n.target="_blank",n.style.cssText="display:flex; flex:1; padding:0.5rem;border: 1px solid #a0a0a0;border-radius: 10px;",n.innerHTML=`\n                <div style="display:flex; flex-direction: row;">\n                    <img src="${e.imgUrl}" style="width:300px; height:200px;"/>\n                    <div style="white-space: nowrap; padding:3rem; display:flex; flex-direction: column;justify-content: center;">\n                        <div>\n                            ${e.name}\n                        </div>\n                        <div>\n                            ${e.state}・${e.town}\n                        </div>\n                        <div>\n                            海拔 ${e.height}\n                        </div>\n                    </div>\n                </div>\n                `,t.appendChild(n)}}))}return n({}),!0}))})();
//# sourceMappingURL=contentScript.js.map